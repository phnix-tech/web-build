"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd&&define(e)}(function(){var e=function(){function e(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,e),i=i||{},r=r||{},this._id=(void 0!==i.gccUserId?i.gccUserId:r.gccUserId)||-1,this._userName=void 0!==i.userName?i.userName:r.userName,this._fullName=void 0!==i.fullName?i.fullName:r.fullName,this._imageUrl=void 0!==i.imageUrl?i.imageUrl:r.imageUrl,this._isSystemAdmin=void 0!==i.isSystemAdmin?i.isSystemAdmin:r.isSystemAdmin,this._isSuperAdmin=void 0!==i.isSuperAdmin?i.isSuperAdmin:r.isSuperAdmin,this._isCertifiedCoach=void 0!==i.isCertifiedCoach?i.isCertifiedCoach:r.isCertifiedCoach,this._isGsAssistant=void 0!==i.isGsAssistant?i.isGsAssistant:r.isGsAssistant,this._isBackdoorByAdmin=void 0!==i.isBackdoorByAdmin?i.isBackdoorByAdmin:r.isBackdoorByAdmin,this._countryCode=void 0!==i.countryCode?i.countryCode:r.countryCode,this._language=void 0!==i.language?i.language:r.language,this._lang=void 0!==i.lang?i.lang:r.lang,this._user=r,this._mergedUser={},Object.keys(i).forEach(function(e){t._mergedUser[e]=i[e]}),Object.keys(r).forEach(function(e){t._mergedUser[e]=r[e]})}return _createClass(e,[{key:"id",value:function(){return this._id}},{key:"isAuth",value:function(){return this.id()>0}},{key:"isSelf",value:function(e){return this.id()===e}},{key:"name",value:function(){return this._fullName}},{key:"fullName",value:function(){return this.name.apply(this,arguments)}},{key:"userName",value:function(){return this._userName}},{key:"imgUrl",value:function(){return this._imageUrl}},{key:"language",value:function(){return this._language}},{key:"lang",value:function(){return this._lang}},{key:"propertiesName",value:function(){var e="Messages";return"en"!==this.language()&&(e+="_"+this.language()),e+=".properties"}},{key:"isInjected",value:function(){return!/^\${.+}/.test(this.id().toString())}},{key:"toString",value:function(){return JSON.stringify(this._mergedUser)}}]),e}(),t=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,e),t=t||{},this._gauthJSUrl=t.gauthJSUrl,this._gauthHost=t.gauthHost,this._callBackWebHostUrl=t.callBackWebHostUrl,this._redirectAfterAccountLoginUrl=t.ssoRedirectAfterAccountLoginUrl,this._redirectAfterAccountCreationUrl=t.ssoRedirectAfterAccountCreationUrl}return _createClass(e,[{key:"callBackWebHostUrl",value:function(e){return 0===arguments.length?this._callBackWebHostUrl:(this._callBackWebHostUrl=e,this)}},{key:"redirectAfterAccountLoginUrl",value:function(e){return 0===arguments.length?this._redirectAfterAccountLoginUrl:(this._redirectAfterAccountLoginUrl=e,this)}},{key:"redirectAfterAccountCreationUrl",value:function(e){return 0===arguments.length?this._redirectAfterAccountCreationUrl:(this._redirectAfterAccountCreationUrl=e,this)}}]),e}(),i=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,e),t=t||{},this._title=t.title,this._keywords=t.keywords,this._description=t.description,this._appBuildPrefix=t.appBuildPrefix,this._styleHref=t.styleHref,this._rwdStyleHref=t.rwdStyleHref,this._jqueryUICss=t.jqueryUICss,this._requireJsMain=t.requireJsMain,this._requireJsBaseUrl=t.requireJsBaseUrl,this._ogp=t.ogp}return _createClass(e,[{key:"title",value:function(){return this._title}}]),e}();return function(){function r(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,r),n=n||{},this._appVariable=n,this._user=new e(n.userVariable,n.user),this._sso=new t(n),this._html=new i(n),this._isDevelopment=n.isDevelopment,this._debug=n.debug,this._env=n.env,this._webVersion=n.webVersion,this._serviceRegion=n.serviceRegion,this._countryCode=n.countryCode,this._disableWebstore=n.disableWebstore,this._webpackDev=n.webpackDev,this._prefix=n.prefix,this._baiduMapKey=n.baiduMapKey,this._googleMapKey=n.googleMapKey}return _createClass(r,[{key:"user",value:function(){return this._user}},{key:"sso",value:function(){return this._sso}},{key:"html",value:function(){return this._html}},{key:"appVariable",value:function(){return this._appVariable}},{key:"serviceRegion",value:function(){return this._serviceRegion}},{key:"isCN",value:function(){return"CN"===this.serviceRegion()}},{key:"isGlobal",value:function(){return"GLOBAL"===this.serviceRegion()}},{key:"prefix",value:function(){return this._prefix}},{key:"env",value:function(){return this._env}},{key:"debug",value:function(){return this._debug}},{key:"logging",value:function(){return!!this.debug()}},{key:"webVersion",value:function(){return this._webVersion}},{key:"googleMapKey",value:function(){return this._googleMapKey}},{key:"baiduMapKey",value:function(){return this._baiduMapKey}},{key:"gaKey",value:function(){var e=this.env(),t=void 0;switch(e){case"prod":t="2";break;case"test":t="1";break;default:t="3"}return"UA-67364141-"+t}},{key:"baiduTongjiKey",value:function(){var e=this.env(),t=this.isGlobal(),i=void 0;switch(e){case"prod":i=t?"234973ed33d152598aa8bfac8c46cfdb":"d21b03f7a4855c680c2ac791c57316a2";break;case"test":i=t?"5f48cb3260f4092635ee1e56ca97ae0e":"1c2a936653109cf8fe8dac6e728b1782";break;default:i="acde108e5e98e1243ba0d985953d1795"}return i}},{key:"defaultLanguage",value:function(){var e="en";return this.isCN()&&(e="zh_CN"),e}}]),r}()});